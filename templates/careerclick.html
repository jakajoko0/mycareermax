<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AI Job Search | myCareerMax</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Bootstrap 4.5.2 JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300&display=swap" rel="stylesheet">

    <style>
        .purple-border {
            border: 1px solid #ae00ff;
            /* Purple color */
        }

        .gradient-button {
            background: linear-gradient(to right, #0022ff, #ae00ff);
            color: white;
            border: none;
        }

        .modal-fullscreen {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        .modal-fullscreen .modal-content {
            height: 100%;
            border: 0;
            border-radius: 0;
        }

        .gradient-bg {
            background: linear-gradient(to bottom, #0022ff, #ae00ff);
        }

        .text-white {
            color: white !important;
        }

        .text-center {
            text-align: center;
        }

        body {
            background-color: #ffffff;
        }

        body {
            font-family: 'Prompt', sans-serif;
            margin: 0;
            padding: 0;
        }

        .job-box-btn {
            display: inline-block;
            vertical-align: middle;
            margin-top: -5px;
        }

        .job-box {
            background-color: #d2e3ff;
            border: 1px solid #ccc;
            padding: 15px;
            margin: 10px;
            position: relative;
            overflow: hidden;
            max-height: 300px;
            overflow-y: auto;
        }

        .job-box:hover {
            background-color: #f5f5f5;
        }

        .job-box.active {
            overflow-y: auto;
            max-height: 500px;
        }

        .navbar {
            background-image: linear-gradient(120deg, #6b9aff, #f1f1f1);
            background-size: cover;
            background-attachment: fixed;
        }


        nav {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0;
        }

        nav li {
            margin: 0 15px;
        }

        nav a {
            color: rgb(0, 0, 0);
            text-decoration: none;
        }
    </style>

    <script async src="https://fundingchoicesmessages.google.com/i/pub-2305706078196748?ers=1"
        nonce="z86J28-Ym2Qj5g2mmIoXOw"></script>
    <script
        nonce="z86J28-Ym2Qj5g2mmIoXOw">(function () { function signalGooglefcPresent() { if (!window.frames['googlefcPresent']) { if (document.body) { const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe); } else { setTimeout(signalGooglefcPresent, 0); } } } signalGooglefcPresent(); })();</script>

    <script>(function () {
            'use strict'; function aa(a) { var b = 0; return function () { return b < a.length ? { done: !1, value: a[b++] } : { done: !0 } } } var ba = "function" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) { if (a == Array.prototype || a == Object.prototype) return a; a[b] = c.value; return a };
            function ea(a) { a = ["object" == typeof globalThis && globalThis, a, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global]; for (var b = 0; b < a.length; ++b) { var c = a[b]; if (c && c.Math == Math) return c } throw Error("Cannot find global object"); } var fa = ea(this); function ha(a, b) { if (b) a: { var c = fa; a = a.split("."); for (var d = 0; d < a.length - 1; d++) { var e = a[d]; if (!(e in c)) break a; c = c[e] } a = a[a.length - 1]; d = c[a]; b = b(d); b != d && null != b && ba(c, a, { configurable: !0, writable: !0, value: b }) } }
            var ia = "function" == typeof Object.create ? Object.create : function (a) { function b() { } b.prototype = a; return new b }, l; if ("function" == typeof Object.setPrototypeOf) l = Object.setPrototypeOf; else { var m; a: { var ja = { a: !0 }, ka = {}; try { ka.__proto__ = ja; m = ka.a; break a } catch (a) { } m = !1 } l = m ? function (a, b) { a.__proto__ = b; if (a.__proto__ !== b) throw new TypeError(a + " is not extensible"); return a } : null } var la = l;
            function n(a, b) { a.prototype = ia(b.prototype); a.prototype.constructor = a; if (la) la(a, b); else for (var c in b) if ("prototype" != c) if (Object.defineProperties) { var d = Object.getOwnPropertyDescriptor(b, c); d && Object.defineProperty(a, c, d) } else a[c] = b[c]; a.A = b.prototype } function ma() { for (var a = Number(this), b = [], c = a; c < arguments.length; c++)b[c - a] = arguments[c]; return b }
            var na = "function" == typeof Object.assign ? Object.assign : function (a, b) { for (var c = 1; c < arguments.length; c++) { var d = arguments[c]; if (d) for (var e in d) Object.prototype.hasOwnProperty.call(d, e) && (a[e] = d[e]) } return a }; ha("Object.assign", function (a) { return a || na });/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
            var p = this || self; function q(a) { return a }; var t, u; a: { for (var oa = ["CLOSURE_FLAGS"], v = p, x = 0; x < oa.length; x++)if (v = v[oa[x]], null == v) { u = null; break a } u = v } var pa = u && u[610401301]; t = null != pa ? pa : !1; var z, qa = p.navigator; z = qa ? qa.userAgentData || null : null; function A(a) { return t ? z ? z.brands.some(function (b) { return (b = b.brand) && -1 != b.indexOf(a) }) : !1 : !1 } function B(a) { var b; a: { if (b = p.navigator) if (b = b.userAgent) break a; b = "" } return -1 != b.indexOf(a) }; function C() { return t ? !!z && 0 < z.brands.length : !1 } function D() { return C() ? A("Chromium") : (B("Chrome") || B("CriOS")) && !(C() ? 0 : B("Edge")) || B("Silk") }; var ra = C() ? !1 : B("Trident") || B("MSIE"); !B("Android") || D(); D(); B("Safari") && (D() || (C() ? 0 : B("Coast")) || (C() ? 0 : B("Opera")) || (C() ? 0 : B("Edge")) || (C() ? A("Microsoft Edge") : B("Edg/")) || C() && A("Opera")); var sa = {}, E = null; var ta = "undefined" !== typeof Uint8Array, ua = !ra && "function" === typeof btoa; var F = "function" === typeof Symbol && "symbol" === typeof Symbol() ? Symbol() : void 0, G = F ? function (a, b) { a[F] |= b } : function (a, b) { void 0 !== a.g ? a.g |= b : Object.defineProperties(a, { g: { value: b, configurable: !0, writable: !0, enumerable: !1 } }) }; function va(a) { var b = H(a); 1 !== (b & 1) && (Object.isFrozen(a) && (a = Array.prototype.slice.call(a)), I(a, b | 1)) }
            var H = F ? function (a) { return a[F] | 0 } : function (a) { return a.g | 0 }, J = F ? function (a) { return a[F] } : function (a) { return a.g }, I = F ? function (a, b) { a[F] = b } : function (a, b) { void 0 !== a.g ? a.g = b : Object.defineProperties(a, { g: { value: b, configurable: !0, writable: !0, enumerable: !1 } }) }; function wa() { var a = []; G(a, 1); return a } function xa(a, b) { I(b, (a | 0) & -99) } function K(a, b) { I(b, (a | 34) & -73) } function L(a) { a = a >> 11 & 1023; return 0 === a ? 536870912 : a }; var M = {}; function N(a) { return null !== a && "object" === typeof a && !Array.isArray(a) && a.constructor === Object } var O, ya = []; I(ya, 39); O = Object.freeze(ya); var P; function Q(a, b) { P = b; a = new a(b); P = void 0; return a }
            function R(a, b, c) { null == a && (a = P); P = void 0; if (null == a) { var d = 96; c ? (a = [c], d |= 512) : a = []; b && (d = d & -2095105 | (b & 1023) << 11) } else { if (!Array.isArray(a)) throw Error(); d = H(a); if (d & 64) return a; d |= 64; if (c && (d |= 512, c !== a[0])) throw Error(); a: { c = a; var e = c.length; if (e) { var f = e - 1, g = c[f]; if (N(g)) { d |= 256; b = (d >> 9 & 1) - 1; e = f - b; 1024 <= e && (za(c, b, g), e = 1023); d = d & -2095105 | (e & 1023) << 11; break a } } b && (g = (d >> 9 & 1) - 1, b = Math.max(b, e - g), 1024 < b && (za(c, g, {}), d |= 256, b = 1023), d = d & -2095105 | (b & 1023) << 11) } } I(a, d); return a }
            function za(a, b, c) { for (var d = 1023 + b, e = a.length, f = d; f < e; f++) { var g = a[f]; null != g && g !== c && (c[f - b] = g) } a.length = d + 1; a[d] = c }; function Aa(a) {
                switch (typeof a) {
                    case "number": return isFinite(a) ? a : String(a); case "boolean": return a ? 1 : 0; case "object": if (a && !Array.isArray(a) && ta && null != a && a instanceof Uint8Array) {
                        if (ua) { for (var b = "", c = 0, d = a.length - 10240; c < d;)b += String.fromCharCode.apply(null, a.subarray(c, c += 10240)); b += String.fromCharCode.apply(null, c ? a.subarray(c) : a); a = btoa(b) } else {
                            void 0 === b && (b = 0); if (!E) {
                                E = {}; c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""); d = ["+/=", "+/", "-_=", "-_.", "-_"]; for (var e =
                                    0; 5 > e; e++) { var f = c.concat(d[e].split("")); sa[e] = f; for (var g = 0; g < f.length; g++) { var h = f[g]; void 0 === E[h] && (E[h] = g) } }
                            } b = sa[b]; c = Array(Math.floor(a.length / 3)); d = b[64] || ""; for (e = f = 0; f < a.length - 2; f += 3) { var k = a[f], w = a[f + 1]; h = a[f + 2]; g = b[k >> 2]; k = b[(k & 3) << 4 | w >> 4]; w = b[(w & 15) << 2 | h >> 6]; h = b[h & 63]; c[e++] = g + k + w + h } g = 0; h = d; switch (a.length - f) { case 2: g = a[f + 1], h = b[(g & 15) << 2] || d; case 1: a = a[f], c[e] = b[a >> 2] + b[(a & 3) << 4 | g >> 4] + h + d }a = c.join("")
                        } return a
                    }
                }return a
            }; function Ba(a, b, c) { a = Array.prototype.slice.call(a); var d = a.length, e = b & 256 ? a[d - 1] : void 0; d += e ? -1 : 0; for (b = b & 512 ? 1 : 0; b < d; b++)a[b] = c(a[b]); if (e) { b = a[b] = {}; for (var f in e) Object.prototype.hasOwnProperty.call(e, f) && (b[f] = c(e[f])) } return a } function Da(a, b, c, d, e, f) { if (null != a) { if (Array.isArray(a)) a = e && 0 == a.length && H(a) & 1 ? void 0 : f && H(a) & 2 ? a : Ea(a, b, c, void 0 !== d, e, f); else if (N(a)) { var g = {}, h; for (h in a) Object.prototype.hasOwnProperty.call(a, h) && (g[h] = Da(a[h], b, c, d, e, f)); a = g } else a = b(a, d); return a } }
            function Ea(a, b, c, d, e, f) { var g = d || c ? H(a) : 0; d = d ? !!(g & 32) : void 0; a = Array.prototype.slice.call(a); for (var h = 0; h < a.length; h++)a[h] = Da(a[h], b, c, d, e, f); c && c(g, a); return a } function Fa(a) { return a.s === M ? a.toJSON() : Aa(a) }; function Ga(a, b, c) { c = void 0 === c ? K : c; if (null != a) { if (ta && a instanceof Uint8Array) return b ? a : new Uint8Array(a); if (Array.isArray(a)) { var d = H(a); if (d & 2) return a; if (b && !(d & 64) && (d & 32 || 0 === d)) return I(a, d | 34), a; a = Ea(a, Ga, d & 4 ? K : c, !0, !1, !0); b = H(a); b & 4 && b & 2 && Object.freeze(a); return a } a.s === M && (b = a.h, c = J(b), a = c & 2 ? a : Q(a.constructor, Ha(b, c, !0))); return a } } function Ha(a, b, c) { var d = c || b & 2 ? K : xa, e = !!(b & 32); a = Ba(a, b, function (f) { return Ga(f, e, d) }); G(a, 32 | (c ? 2 : 0)); return a }; function Ia(a, b) { a = a.h; return Ja(a, J(a), b) } function Ja(a, b, c, d) { if (-1 === c) return null; if (c >= L(b)) { if (b & 256) return a[a.length - 1][c] } else { var e = a.length; if (d && b & 256 && (d = a[e - 1][c], null != d)) return d; b = c + ((b >> 9 & 1) - 1); if (b < e) return a[b] } } function Ka(a, b, c, d, e) { var f = L(b); if (c >= f || e) { e = b; if (b & 256) f = a[a.length - 1]; else { if (null == d) return; f = a[f + ((b >> 9 & 1) - 1)] = {}; e |= 256 } f[c] = d; e &= -1025; e !== b && I(a, e) } else a[c + ((b >> 9 & 1) - 1)] = d, b & 256 && (d = a[a.length - 1], c in d && delete d[c]), b & 1024 && I(a, b & -1025) }
            function La(a, b) { var c = Ma; var d = void 0 === d ? !1 : d; var e = a.h; var f = J(e), g = Ja(e, f, b, d); var h = !1; if (null == g || "object" !== typeof g || (h = Array.isArray(g)) || g.s !== M) if (h) { var k = h = H(g); 0 === k && (k |= f & 32); k |= f & 2; k !== h && I(g, k); c = new c(g) } else c = void 0; else c = g; c !== g && null != c && Ka(e, f, b, c, d); e = c; if (null == e) return e; a = a.h; f = J(a); f & 2 || (g = e, c = g.h, h = J(c), g = h & 2 ? Q(g.constructor, Ha(c, h, !1)) : g, g !== e && (e = g, Ka(a, f, b, e, d))); return e } function Na(a, b) { a = Ia(a, b); return null == a || "string" === typeof a ? a : void 0 }
            function Oa(a, b) { a = Ia(a, b); return null != a ? a : 0 } function S(a, b) { a = Na(a, b); return null != a ? a : "" }; function T(a, b, c) { this.h = R(a, b, c) } T.prototype.toJSON = function () { var a = Ea(this.h, Fa, void 0, void 0, !1, !1); return Pa(this, a, !0) }; T.prototype.s = M; T.prototype.toString = function () { return Pa(this, this.h, !1).toString() };
            function Pa(a, b, c) {
                var d = a.constructor.v, e = L(J(c ? a.h : b)), f = !1; if (d) { if (!c) { b = Array.prototype.slice.call(b); var g; if (b.length && N(g = b[b.length - 1])) for (f = 0; f < d.length; f++)if (d[f] >= e) { Object.assign(b[b.length - 1] = {}, g); break } f = !0 } e = b; c = !c; g = J(a.h); a = L(g); g = (g >> 9 & 1) - 1; for (var h, k, w = 0; w < d.length; w++)if (k = d[w], k < a) { k += g; var r = e[k]; null == r ? e[k] = c ? O : wa() : c && r !== O && va(r) } else h || (r = void 0, e.length && N(r = e[e.length - 1]) ? h = r : e.push(h = {})), r = h[k], null == h[k] ? h[k] = c ? O : wa() : c && r !== O && va(r) } d = b.length; if (!d) return b;
                var Ca; if (N(h = b[d - 1])) { a: { var y = h; e = {}; c = !1; for (var ca in y) Object.prototype.hasOwnProperty.call(y, ca) && (a = y[ca], Array.isArray(a) && a != a && (c = !0), null != a ? e[ca] = a : c = !0); if (c) { for (var rb in e) { y = e; break a } y = null } } y != h && (Ca = !0); d-- } for (; 0 < d; d--) { h = b[d - 1]; if (null != h) break; var cb = !0 } if (!Ca && !cb) return b; var da; f ? da = b : da = Array.prototype.slice.call(b, 0, d); b = da; f && (b.length = d); y && b.push(y); return b
            }; function Qa(a) { return function (b) { if (null == b || "" == b) b = new a; else { b = JSON.parse(b); if (!Array.isArray(b)) throw Error(void 0); G(b, 32); b = Q(a, b) } return b } }; function Ra(a) { this.h = R(a) } n(Ra, T); var Sa = Qa(Ra); var U; function V(a) { this.g = a } V.prototype.toString = function () { return this.g + "" }; var Ta = {}; function Ua() { return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36) }; function Va(a, b) { b = String(b); "application/xhtml+xml" === a.contentType && (b = b.toLowerCase()); return a.createElement(b) } function Wa(a) { this.g = a || p.document || document } Wa.prototype.appendChild = function (a, b) { a.appendChild(b) };/*

 SPDX-License-Identifier: Apache-2.0
*/
            function Xa(a, b) { a.src = b instanceof V && b.constructor === V ? b.g : "type_error:TrustedResourceUrl"; var c, d; (c = (b = null == (d = (c = (a.ownerDocument && a.ownerDocument.defaultView || window).document).querySelector) ? void 0 : d.call(c, "script[nonce]")) ? b.nonce || b.getAttribute("nonce") || "" : "") && a.setAttribute("nonce", c) }; function Ya(a) { a = void 0 === a ? document : a; return a.createElement("script") }; function Za(a, b, c, d, e, f) { try { var g = a.g, h = Ya(g); h.async = !0; Xa(h, b); g.head.appendChild(h); h.addEventListener("load", function () { e(); d && g.head.removeChild(h) }); h.addEventListener("error", function () { 0 < c ? Za(a, b, c - 1, d, e, f) : (d && g.head.removeChild(h), f()) }) } catch (k) { f() } }; var $a = p.atob("aHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vaW1hZ2VzL2ljb25zL21hdGVyaWFsL3N5c3RlbS8xeC93YXJuaW5nX2FtYmVyXzI0ZHAucG5n"), ab = p.atob("WW91IGFyZSBzZWVpbmcgdGhpcyBtZXNzYWdlIGJlY2F1c2UgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlIGlzIGludGVyZmVyaW5nIHdpdGggdGhpcyBwYWdlLg=="), bb = p.atob("RGlzYWJsZSBhbnkgYWQgb3Igc2NyaXB0IGJsb2NraW5nIHNvZnR3YXJlLCB0aGVuIHJlbG9hZCB0aGlzIHBhZ2Uu"); function db(a, b, c) { this.i = a; this.l = new Wa(this.i); this.g = null; this.j = []; this.m = !1; this.u = b; this.o = c }
            function eb(a) { if (a.i.body && !a.m) { var b = function () { fb(a); p.setTimeout(function () { return gb(a, 3) }, 50) }; Za(a.l, a.u, 2, !0, function () { p[a.o] || b() }, b); a.m = !0 } }
            function fb(a) {
                for (var b = W(1, 5), c = 0; c < b; c++) { var d = X(a); a.i.body.appendChild(d); a.j.push(d) } b = X(a); b.style.bottom = "0"; b.style.left = "0"; b.style.position = "fixed"; b.style.width = W(100, 110).toString() + "%"; b.style.zIndex = W(2147483544, 2147483644).toString(); b.style["background-color"] = hb(249, 259, 242, 252, 219, 229); b.style["box-shadow"] = "0 0 12px #888"; b.style.color = hb(0, 10, 0, 10, 0, 10); b.style.display = "flex"; b.style["justify-content"] = "center"; b.style["font-family"] = "Roboto, Arial"; c = X(a); c.style.width = W(80,
                    85).toString() + "%"; c.style.maxWidth = W(750, 775).toString() + "px"; c.style.margin = "24px"; c.style.display = "flex"; c.style["align-items"] = "flex-start"; c.style["justify-content"] = "center"; d = Va(a.l.g, "IMG"); d.className = Ua(); d.src = $a; d.alt = "Warning icon"; d.style.height = "24px"; d.style.width = "24px"; d.style["padding-right"] = "16px"; var e = X(a), f = X(a); f.style["font-weight"] = "bold"; f.textContent = ab; var g = X(a); g.textContent = bb; Y(a, e, f); Y(a, e, g); Y(a, c, d); Y(a, c, e); Y(a, b, c); a.g = b; a.i.body.appendChild(a.g); b = W(1, 5); for (c =
                        0; c < b; c++)d = X(a), a.i.body.appendChild(d), a.j.push(d)
            } function Y(a, b, c) { for (var d = W(1, 5), e = 0; e < d; e++) { var f = X(a); b.appendChild(f) } b.appendChild(c); c = W(1, 5); for (d = 0; d < c; d++)e = X(a), b.appendChild(e) } function W(a, b) { return Math.floor(a + Math.random() * (b - a)) } function hb(a, b, c, d, e, f) { return "rgb(" + W(Math.max(a, 0), Math.min(b, 255)).toString() + "," + W(Math.max(c, 0), Math.min(d, 255)).toString() + "," + W(Math.max(e, 0), Math.min(f, 255)).toString() + ")" } function X(a) { a = Va(a.l.g, "DIV"); a.className = Ua(); return a }
            function gb(a, b) { 0 >= b || null != a.g && 0 != a.g.offsetHeight && 0 != a.g.offsetWidth || (ib(a), fb(a), p.setTimeout(function () { return gb(a, b - 1) }, 50)) }
            function ib(a) { var b = a.j; var c = "undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator]; if (c) b = c.call(b); else if ("number" == typeof b.length) b = { next: aa(b) }; else throw Error(String(b) + " is not an iterable or ArrayLike"); for (c = b.next(); !c.done; c = b.next())(c = c.value) && c.parentNode && c.parentNode.removeChild(c); a.j = []; (b = a.g) && b.parentNode && b.parentNode.removeChild(b); a.g = null }; function jb(a, b, c, d, e) { function f(k) { document.body ? g(document.body) : 0 < k ? p.setTimeout(function () { f(k - 1) }, e) : b() } function g(k) { k.appendChild(h); p.setTimeout(function () { h ? (0 !== h.offsetHeight && 0 !== h.offsetWidth ? b() : a(), h.parentNode && h.parentNode.removeChild(h)) : a() }, d) } var h = kb(c); f(3) } function kb(a) { var b = document.createElement("div"); b.className = a; b.style.width = "1px"; b.style.height = "1px"; b.style.position = "absolute"; b.style.left = "-10000px"; b.style.top = "-10000px"; b.style.zIndex = "-10000"; return b }; function Ma(a) { this.h = R(a) } n(Ma, T); function lb(a) { this.h = R(a) } n(lb, T); var mb = Qa(lb); function nb(a) { a = Na(a, 4) || ""; if (void 0 === U) { var b = null; var c = p.trustedTypes; if (c && c.createPolicy) { try { b = c.createPolicy("goog#html", { createHTML: q, createScript: q, createScriptURL: q }) } catch (d) { p.console && p.console.error(d.message) } U = b } else U = b } a = (b = U) ? b.createScriptURL(a) : a; return new V(a, Ta) }; function ob(a, b) { this.m = a; this.o = new Wa(a.document); this.g = b; this.j = S(this.g, 1); this.u = nb(La(this.g, 2)); this.i = !1; b = nb(La(this.g, 13)); this.l = new db(a.document, b, S(this.g, 12)) } ob.prototype.start = function () { pb(this) };
            function pb(a) { qb(a); Za(a.o, a.u, 3, !1, function () { a: { var b = a.j; var c = p.btoa(b); if (c = p[c]) { try { var d = Sa(p.atob(c)) } catch (e) { b = !1; break a } b = b === Na(d, 1) } else b = !1 } b ? Z(a, S(a.g, 14)) : (Z(a, S(a.g, 8)), eb(a.l)) }, function () { jb(function () { Z(a, S(a.g, 7)); eb(a.l) }, function () { return Z(a, S(a.g, 6)) }, S(a.g, 9), Oa(a.g, 10), Oa(a.g, 11)) }) } function Z(a, b) { a.i || (a.i = !0, a = new a.m.XMLHttpRequest, a.open("GET", b, !0), a.send()) } function qb(a) { var b = p.btoa(a.j); a.m[b] && Z(a, S(a.g, 5)) }; (function (a, b) { p[a] = function () { var c = ma.apply(0, arguments); p[a] = function () { }; b.apply(null, c) } })("__h82AlnkH6D91__", function (a) { "function" === typeof window.atob && (new ob(window, mb(window.atob(a)))).start() });
        }).call(this);

        window.__h82AlnkH6D91__("WyJwdWItMjMwNTcwNjA3ODE5Njc0OCIsW251bGwsbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9iL3B1Yi0yMzA1NzA2MDc4MTk2NzQ4Il0sbnVsbCxudWxsLCJodHRwczovL2Z1bmRpbmdjaG9pY2VzbWVzc2FnZXMuZ29vZ2xlLmNvbS9lbC9BR1NLV3hVTzZsNzBfR1JMWEZHQzFNbzdFVFZsaVhGWF9ESjFmdElaVG5mODNEYmd1MWJTZ3VzaS05SWlDTnFkZHBMNTdab0ZNUFZxSFU3QnNJOXJaQktya2ZZbG1BXHUwMDNkXHUwMDNkP3RlXHUwMDNkVE9LRU5fRVhQT1NFRCIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFc4aU9mYlZlZFVRRnczSFlSbFdmb2p5Xzd4ZHVndU9Vd1RIUnJpWFE1UjQzUFNCYjdtdGpTaXFMUElpWFZXYWZhYzhVbjVrckhHTHpTcThGZFBlaWxPTUFcdTAwM2RcdTAwM2Q/YWJcdTAwM2QxXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFh2S2p2NXdpR3lfSW1QRHBNSExHT3Y1RlptSE1FQkpkcWhreFVobTZ0TUpmdHhpNmhxSElpNzFJSzhEcWtMbE1GYXhST0tCY2FneU5XTkhaMnduQS1xQ3dcdTAwM2RcdTAwM2Q/YWJcdTAwM2QyXHUwMDI2c2JmXHUwMDNkMSIsImh0dHBzOi8vZnVuZGluZ2Nob2ljZXNtZXNzYWdlcy5nb29nbGUuY29tL2VsL0FHU0tXeFVRZUEySmVtaGtjVmhpemY1ZUlNYUZIQlhKbWhRRWNmSEszRGcyS0h3Uy1vV1d4RkEzUThJVDY0VmdScTgzdW9INXJnc3FkN2lIVUtHS3RQOWpNN2JsR1FcdTAwM2RcdTAwM2Q/c2JmXHUwMDNkMiIsImRpdi1ncHQtYWQiLDIwLDEwMCwiY0hWaUxUSXpNRFUzTURZd056Z3hPVFkzTkRnXHUwMDNkIixbbnVsbCxudWxsLG51bGwsImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tLzBlbW4vZi9wL3B1Yi0yMzA1NzA2MDc4MTk2NzQ4LmpzP3VzcXBcdTAwM2RDQUkiXSwiaHR0cHM6Ly9mdW5kaW5nY2hvaWNlc21lc3NhZ2VzLmdvb2dsZS5jb20vZWwvQUdTS1d4VW5JU2RDU3QxUUNrdDNlZ1F1bDB2YnA5SFFYQUVWOGZNM0d2R1hsYzEwYXQzWWEyY0JPRUNwVU1YT1NyT25jNTRWTUg1eXZhYkNlbnpsX1d2eGNCUkhtUVx1MDAzZFx1MDAzZCJd");</script>

</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-71KL2GKNB6"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-71KL2GKNB6');
</script>

<body>

    <script defer>

        $(document).ready(function () {
            console.log("Fetching username...");
            $.get("/get-username", function (response) {
                console.log("Username response:", response);
                if (response.success) {
                    const usernamePlaceholder = document.getElementById("username-placeholder");
                    usernamePlaceholder.textContent = "Hello, " + response.username;
                } else {
                    console.error('Error fetching username:', response.error);
                }
            });
        });
    </script>

    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="margin-right: 20px;">
        <a class="navbar-brand" href="https://www.mycareermax.com" style="color: #003c86;">myCareerMax.com</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard" style="color: #003c86;">myDashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/careerclick" style="color: #003c86;">AI Job Search</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tools" style="color: #003c86;">Create✨</a>
                </li>
                <!-- Tools Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="toolsDropdown" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false" style="color: #003c86;">
                        Tools
                    </a>
                    <div class="dropdown-menu" aria-labelledby="toolsDropdown">
                        <a class="dropdown-item" href="/resume-enhancer" style="color: #003c86;">Resume Scanner</a>
                        <a class="dropdown-item" href="/interview-prep" style="color: #003c86;">Interview Prep</a>
                    </div>
                </li>
                <!-- New link for CareerBot -->
                <li class="nav-item">
                    <a class="nav-link" href="/careerbot" style="color: #003c86;">Max</a>
                </li>
                <!-- Existing dropdown for the username -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: #003c86;">
                        <span id="username-placeholder">Login Here</span>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="/dashboard#my-docs" style="color: #003c86;">My AI Docs</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="/login" style="color: #00b018;">Login</a>
                        <a class="dropdown-item" href="/logout" style="color: #0d00ff;">Logout</a>
                        <a class="dropdown-item" href="/delete_account" style="color: #ff0000;">Delete Account</a>
                    </div>
                </li>
                <!-- End of Dropdown for username -->
            </ul>
        </div>
    </nav>

    <div style="text-align:center;">
        <img src="{{ url_for('static', filename='images/blue-mycareermax.png') }}" alt="Your Logo"
            style="max-width:100%;" />
    </div>
    <div class="container mt-5">
        <!-- Job Search Section -->
        <div class="mb-4" id="job-search-section">
            <div class="form-row">
                <div class="col">
                    <input class="form-control purple-border" id="job-query"
                        placeholder="Job title, e.g., Python Developer" type="text" />
                </div>
                <div class="col">
                    <input class="form-control purple-border" id="job-location" placeholder="Location, e.g., Texas, USA"
                        type="text" />
                </div>
                <div class="col">
                    <button class="btn gradient-button" onclick="fetchJobListings()">Search</button>
                </div>
            </div>
        </div>
        <!-- Resume box -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
        <div class="mb-4">
            <p>💡 If you have already uploaded your resume to the Dashboard, you do not need to add it again here</p>
            <label for="resume-upload">Upload your resume (.docx format) or <a href="#" id="toggle-textarea">manually
                    enter
                </a>:</label>
            <input id="upload" type="file" />
            <textarea class="form-control mt-2" id="resume-text" rows="10" style="display: none;"></textarea>
            <script>
                document.getElementById('toggle-textarea').addEventListener('click', function (e) {
                    e.preventDefault();
                    var textarea = document.getElementById('resume-text');
                    if (textarea.style.display === 'none') {
                        textarea.style.display = 'block';
                    } else {
                        textarea.style.display = 'none';
                    }
                });

                document.getElementById('upload').addEventListener('change', function (event) {
                    var reader = new FileReader();
                    reader.onload = function (event) {
                        mammoth.extractRawText({ arrayBuffer: event.target.result })
                            .then(displayResult)
                            .catch(handleError);
                    };
                    reader.readAsArrayBuffer(this.files[0]);
                }, false);

                function displayResult(result) {
                    document.getElementById('resume-text').value = result.value;
                }

                function handleError(err) {
                    console.log(err);
                    alert('Error processing document.');
                }
            </script>
            <div id="loading-overlay"
                style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000;">
                <div
                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(to bottom, #0022ff, #ae00ff); color: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px rgba(0,0,0,0.5);">
                    ✨ Hold please. Doing AI things. Your generated content will be available at the top of the page
                    when
                    I'm finished. 🪄
                </div>
            </div>

        </div>

    </div>
    <!-- Collapsible Section -->
    <div class="accordion" id="howItWorksAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="howItWorksHeading">
                <div style="text-align: center;">
                    <a href="#" style="font-size: 18px;" class="collapsed" id="howDoesThisWork" data-toggle="collapse"
                        data-target="#howItWorksCollapse" aria-expanded="false" aria-controls="howItWorksCollapse">
                        🔮 How does this work?
                    </a>
                </div>
            </h2>
            <div id="howItWorksCollapse" class="accordion-collapse collapse" aria-labelledby="howItWorksHeading"
                data-parent="#howItWorksAccordion">
                <div class="accordion-body"
                    style="text-align: left; background: linear-gradient(to right, #0022ff, #ae00ff); border-radius: 12px; padding: 15px; color: white;">
                    <div class="pro-tip-box">
                        <h2>✨🔍 AI Job Search: Powered by ChatGPT-4 and Google Jobs</h2>
                        <p>Welcome to myCareerMax's AI Job Search, your one-stop solution for a smarter, more efficient
                            job
                            search.</p>

                        <h2>🛠️ How to Use</h2>
                        <div></div>
                        <div></div>
                        <h3>Upload/Enter Resume📜</h3>
                        <ul>
                            <li><strong>Upload:</strong> The system will always default to using the resume you have
                                uploaded to your Dashboard first and we will securely store your resume for you so that
                                you do not have to upload it each time you sign in. If no resume has been uploaded to
                                your Dashboard, it will then use any resume that you upload using the File upload
                                feature directly on the Search screen underneath the search boxes. Please note that only
                                .DOCX files are accepted at this time.</li>
                            <li><strong>Enter Manually:</strong> If you don't upload a resume to either your Dashboard
                                or using the file upload feature directly on the Search screen, you must type or paste
                                your resume into the provided resume area directly underneath the search boxes.</li>
                        </ul>
                        <h3>Job Search 🔍</h3>
                        <ul>
                            <li><strong>Keywords:</strong> Enter the job title, skills, or company you're interested in.
                            </li>
                            <li><strong>Location:</strong> Specify the location where you'd like to work.</li>
                            <li><strong>Search:</strong> Click the Search button to scan all major job boards and view a
                                list of your best matches.
                            </li>
                        </ul>

                        <h3>Job Boxes 📋</h3>
                        <p>Each “job box” (or job listing) neatly displays the following basic details: </p>
                        <ul>
                            <li>🏢 Company Logo</li>
                            <li>📝 Job Title</li>
                            <li>🗓️ Date Posted</li>
                            <li>🆔 Job ID</li>
                            <li>📄 Job Description</li>
                        </ul>

                        <h3>Additional Features in Job Boxes 🪄</h3>
                        <p>In addition to the basic details provided in each job box, you can take advantage of these
                            additional features:</p>
                        <ul>
                            <li>❤️ Save Job: Click the heart icon to save this job to your dashboard.</li>
                            <li>🔗 Apply: Takes you directly to the job application to apply directly at the source.
                            </li>
                            <li>💰 Salary Insights: Get a glimpse of the salary range for the job.</li>
                            <li>✨ AI Cover Letter: Using OpenAI’s ChatGPT-4, this button generates a custom Cover
                                Letter,
                                personalized and tailored to the specific job posting.</li>
                            <li>✨ ATS Optimized Resume: Using OpenAI’s ChatGPT-4, this option optimizes your resume for
                                Applicant Tracking Systems and tailors it to the job listing by integrating keywords
                                extracted from the job description seamlessly throughout your resume.</li>
                        </ul>
                        <p>🌟 In order for the system to accurately generate your Cover Letter and Resume's, you must
                            have a resume either uploaded to your Dashboard, or provided here at the top of the Search
                            page</p>

                        <h2>✨ AI Generated Content </h2>
                        <p>Your generated Cover Letters and Resumes will be displayed at the top of the page in an
                            editable
                            text box above the search results and will have the following options:</p>
                        <ul>
                            <li>⬇️ Download (.TXT): Downloads a .TXT file (plain text) locally to your device</li>
                            <li>📋 Copy to Clipboard: Copy the entire text content to easily paste in a job application
                                or
                                just to keep someplace else</li>
                            <li>💾 Save to Dashboard: Keep your documents for later use. They will be saved to “My Docs”
                                on
                                your Dashboard and can be downloaded as either a .DOCX or .PDF file</li>
                        </ul>

                        <h2>❓FAQ❓</h2>
                        <h3>What is the Save Job feature? 💾</h3>
                        <p>The "Save Job" button allows you to save jobs you're interested in to your dashboard. Please
                            note
                            that you must be logged in in order to access your Dashboard.</p>
                        <h3>How does the AI Cover Letter work? 🤖</h3>
                        <p>This feature utilizes OpenAI's latest ChatGPT-4 to generate a bespoke cover letter, tailored
                            to
                            the job description and your resume data.</p>
                        <h3>What is the Save to Dashboard feature? 💾</h3>
                        <p>The "Save to Dashboard" button allows you to save jobs you're interested in to your dashboard
                            to
                            reference whenever you wish. You can apply directly to the job from the Saved Jobs area of
                            the
                            Dashboard. Adding jobs to your Saved Jobs list will automatically be rated and given a
                            compatibility score based on how well the job description matches your resume and
                            background.
                            Once it receives a compatibility score, it will be ranked against all of your other saved
                            jobs
                            in the Top Candidate board on your Dashboard. You can use these rankings to decide which
                            jobs to
                            focus more of your time and efforts on. ⚹ You must be logged in to access the Dashboard ⚹
                        </p>
                        <h3>What is an ATS Optimized Resume? 🎯</h3>
                        <p>The ATS Optimizer makes your resume more appealing to Applicant Tracking Systems. It uses AI
                            to
                            incorporate relevant keywords and optimize formatting. OpenAI’s ChatGPT-4 is the engine
                            behind
                            this feature.</p>
                        <h3>Where can I find my Saved Documents? 📂</h3>
                        <p>Head over to the "My Documents" section on your Dashboard to find all your saved documents.
                            They
                            are available for download in PDF and DOCX formats. You must be logged in to access your
                            Dashboard. If you only need a plain text file
                            (.txt),
                            you can click the green “⬇️ Download .(TXT)” button under your generated content on the
                            search
                            results page without logging in.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Generated Resume Display -->
    <div class="cover-letter-section" id="cover-letter-section-1" style="display: none;">
        <h3
            style="text-align: center !important; background: linear-gradient(to right, #0022ff, #ae00ff); -webkit-background-clip: text; background-clip: text; color: transparent; font-family: 'Crimson Text', serif !important;">
            Optimized Resume
        </h3>
        <textarea class="form-control" id="cover-letter-text-1" rows="10"></textarea>
        <!-- New buttons added here -->
        <div class="mt-2">
            <!--  <button class="btn btn-success mt-2" id="download-resume-1" onclick="downloadResume_1()">⬇️ Download
                (.TXT)</button>  -->
            <button class="btn btn-info mt-2 ml-2" id="copy-resume-1" onclick="copyToClipboard_1()">📋 Copy
                to
                Clipboard</button>
            <button class="btn btn-primary mt-2 ml-2" onclick="saveResume()">💾 Save to Dashboard (.DOCX &
                .PDF)</button>
        </div>
    </div>

     

    <!-- Generated Cover Letter Display -->
    <div class="mb-4" id="cover-letter-section" style="display: none;">
        <h3
            style="text-align: center !important; background: linear-gradient(to right, #0022ff, #ae00ff); -webkit-background-clip: text; background-clip: text; color: transparent; font-family: 'Crimson Text', serif !important;">
            AI Generated Cover Letter
        </h3>
        <textarea class="form-control" id="cover-letter-text" rows="10"></textarea>
        <div class="mt-2">
            <!--   <button class="btn btn-success" onclick="downloadCoverLetter()">⬇️ Download (.TXT)</button>  -->
            <button class="btn btn-info" onclick="copyToClipboard()">📋 Copy to Clipboard</button>
            <button class="btn btn-primary mt-2 ml-2" onclick="saveDocument()">💾 Save to Dashboard (.DOCX &
                .PDF)</button>
        </div>
    </div>

    <!-- Job Listings Container -->
    <div class="mb-4" id="job-listings-container">
        <!-- Job listings will be populated here -->
    </div>
    <script>
        var userId = {{ user_id }};
    </script>
    <script>
        //Intro Modal
        $(document).ready(function () {
            // Show the modal when "How does this work?" is clicked
            $("#howDoesThisWork").on("click", function () {
                $("#fullscreenModal").modal("show");
            });
        });



        function generateCoverLetter_1(jobDescription, resume, jobTitle, companyName, applyLink) { // Add applyLink parameter
            console.log("Job Description:", jobDescription);
            console.log("Resume:", resume);

            // Show the loading overlay
            document.getElementById('loading-overlay').style.display = 'block';

            // Make a POST request to the backend with the required data
            fetch('/resume.1', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    resume: resume,
                    job_description: jobDescription,
                    job_title: jobTitle
                })
            })
                .then(response => response.json())
                .then(data => {
                    console.log("Cover Letter Response:", data);

                    // Hide the loading overlay
                    document.getElementById('loading-overlay').style.display = 'none';

                    // Store the job details in data attributes on the text box element
                    var textBox = document.getElementById('cover-letter-text-1');
                    textBox.value = data.cover_letter;
                    textBox.setAttribute('data-job-title', jobTitle);
                    textBox.setAttribute('data-company-name', companyName);
                    textBox.setAttribute('data-apply-link', applyLink); // Store the apply link

                    document.getElementById('cover-letter-section-1').style.display = 'block';
                })
                .catch(error => {
                    console.error("Error generating cover letter:", error);

                    // Hide the loading overlay even in case of error
                    document.getElementById('loading-overlay').style.display = 'none';
                });
        }



        function generateCoverLetter(jobDescription, resume, jobTitle, companyName, applyLink) { // Add applyLink parameter
            console.log("Generate Cover Letter button clicked.");
            console.log("Job Description:", jobDescription);
            console.log("Resume:", resume);

            // Show the loading overlay
            document.getElementById('loading-overlay').style.display = 'block';

            // Make an AJAX call to the Flask backend
            fetch('/career_click', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    resume: resume,
                    job_description: jobDescription,
                    company_name: companyName,
                    job_title: jobTitle
                })
            })
                .then(response => response.json())
                .then(data => {
                    console.log("Cover Letter Response:", data);

                    // Hide the loading overlay
                    document.getElementById('loading-overlay').style.display = 'none';

                    // Store the job details in data attributes on the text box element
                    var textBox = document.getElementById('cover-letter-text');
                    textBox.value = data.cover_letter;
                    textBox.setAttribute('data-job-title', jobTitle);
                    textBox.setAttribute('data-company-name', companyName);
                    textBox.setAttribute('data-apply-link', applyLink); // Store the apply link

                    document.getElementById('cover-letter-section').style.display = 'block';
                })
                .catch(error => {
                    console.error('Error generating cover letter:', error);

                    // Hide the loading overlay even in case of error
                    document.getElementById('loading-overlay').style.display = 'none';
                });
        }



        // Fetch job listings based on user input
        function fetchJobListings() {
            const jobQuery = document.getElementById('job-query').value;
            const jobLocation = document.getElementById('job-location').value;

            const requestData = {
                query: jobQuery,
                location: jobLocation
            };

            fetch('/fetch-job-listings', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            })
                .then(response => response.json())
                .then(data => {
                    console.log("Jobs Array:", data.data);  // Log the jobs array
                    if (data.data) {
                        displayJobListings({ jobs: data.data }); // Adjusting the data structure
                    } else {
                        console.error("No jobs found or unexpected data structure:", data);
                    }
                })
                .catch(error => {
                    console.error('Error fetching job listings:', error);
                });
        }

        function displayJobListings(response) {
            const jobs = response.jobs;
            const listingsContainer = document.getElementById('job-listings-container');
            listingsContainer.innerHTML = '';  // Clear any previous listings

            jobs.forEach(job => {
                const jobBox = document.createElement('div');
                jobBox.className = 'job-box';
                jobBox.style.marginBottom = '50px';
                jobBox.style.position = 'relative';
                jobBox.style.borderRadius = '10px'; // Adjust this value as needed

                // Add the job identifier as a data attribute to the job box
                jobBox.dataset.jobIdentifier = job.job_id;

                // Append the employer logo if it exists
                if (job.employer_logo) {
                    const logoImg = document.createElement('img');
                    logoImg.src = job.employer_logo;
                    logoImg.alt = job.employer_name + ' logo';
                    logoImg.style.width = '75px'; // Adjust this to your preferred size
                    jobBox.appendChild(logoImg);
                }
                // Append the job posted timestamp
                const jobPostedTimestamp = document.createElement('p');
                const dateObj = new Date(job.job_posted_at_timestamp * 1000); // Convert to milliseconds
                jobPostedTimestamp.innerText = 'Posted At: ' + dateObj.toDateString();
                jobPostedTimestamp.style.fontSize = '12px';  // You can adjust '12px' to your preferred size
                jobBox.appendChild(jobPostedTimestamp);


                // Create the "Save Job" heart-shaped button
                const saveJobButton = document.createElement('i');
                saveJobButton.className = 'fa fa-heart save-job-btn';
                saveJobButton.dataset.jobId = job.job_id;
                saveJobButton.style.cursor = 'pointer';
                saveJobButton.style.marginRight = '10px';  // Adjusted the margin property name
                saveJobButton.style.fontSize = '24px';

                saveJobButton.onclick = function () {
                    if (!this.classList.contains('saved')) {
                        this.classList.add('saved');
                        this.style.color = 'red';

                        // Capture job details
                        const jobDetails = {
                            job_id: job.job_id,
                            job_title: job.job_title,
                            job_description: job.job_description,
                            job_link: job.job_apply_link,
                            job_loc: '',  // You might need to capture this if available in your job object
                            company_name: job.employer_name || "Unknown Company",
                            link: '',  // You might need to capture this if available in your job object
                            employer_logo: job.employer_logo || ""  // Capture the employer logo URL
                        };

                        // Send job details to backend using AJAX
                        $.ajax({
                            url: "/save-job",
                            type: "POST",
                            contentType: "application/json",  // Set the Content-Type header
                            data: JSON.stringify(jobDetails),
                            success: function (response) {
                                if (response.success) {
                                    console.log("Job saved successfully!");
                                } else {
                                    alert("You must be logged in to Save Jobs to your Dashboard.");
                                }
                            },
                            error: function (xhr, status, error) {
                                console.error("Failed to save job:", error);
                            }
                        });

                    } else {
                        this.classList.remove('saved');
                        this.style.color = '';
                        // TODO: Optionally send a request to backend to unsave the job
                    }
                };

                jobBox.appendChild(saveJobButton);

                const analyzeSymbol = document.createElement('a');
                analyzeSymbol.href = '#';  // Prevent default navigation
                analyzeSymbol.innerText = '💰';
                analyzeSymbol.style.color = 'green';  // Give it the color green
                analyzeSymbol.style.fontSize = '30px';  // Adjust size as needed
                analyzeSymbol.style.marginLeft = '5px';  // Provide some margin for better spacing
                analyzeSymbol.style.marginRight = '10px';  // Provide some margin for better spacing
                analyzeSymbol.style.cursor = 'pointer';  // Change cursor to pointer to indicate clickability
                analyzeSymbol.style.fontWeight = 'bold';  // Make the symbol bold
                analyzeSymbol.onclick = (event) => {
                    event.preventDefault();  // Prevent default navigation
                    // AJAX call to Flask backend with separate parameters for job title
                    $.post("/analyze-job", {
                        job_title: job.job_title
                    }, function (data) {
                        // Display the result in the modal
                        document.getElementById('analyzeResult').innerText = data.response;
                        $('#analyzeModal').modal('show');
                    });
                };
                jobBox.appendChild(analyzeSymbol);

                // Append the Apply button
                const applyButton = document.createElement('a');
                applyButton.href = job.job_apply_link;
                applyButton.target = '_blank';
                applyButton.className = 'btn btn-success job-box-btn';
                applyButton.innerText = 'Apply!';
                applyButton.style.marginBottom = '10px';
                applyButton.style.marginLeft = '8px';
                jobBox.appendChild(applyButton);


                // Append the job title
                const jobTitle = document.createElement('h4');
                jobTitle.innerText = (job.job_title || 'N/A');
                jobTitle.style.color = '#black';
                jobBox.appendChild(jobTitle);

                // Append the employer name
                const employerName = document.createElement('p');
                employerName.innerText = (job.employer_name || 'N/A');
                employerName.style.color = '#007BFF';
                jobBox.appendChild(employerName);

                // Create the "Generate Cover Letter" button first
                const generateButton = document.createElement('button');
                generateButton.className = 'btn btn-secondary ml-2 job-box-btn';
                generateButton.innerText = '✨AI Cover Letter';
                generateButton.style.background = 'linear-gradient(to right, #0022ff, #ae00ff)';
                generateButton.style.color = 'white';
                generateButton.style.marginBottom = '10px';
                generateButton.style.marginLeft = '20px';
                generateButton.onclick = () => generateCoverLetter(
                    job.job_description,
                    document.getElementById('resume-text').value,
                    job.job_title,
                    job.employer_name || "Unknown Company",
                    job.job_apply_link // Include the apply link
                );
                jobBox.appendChild(generateButton);



                // Create the "Generate Cover Letter (Resume.1)" button
                const generateButton_1 = document.createElement('button');
                generateButton_1.className = 'btn btn-secondary ml-2 job-box-btn';
                generateButton_1.innerText = '✨ATS Optimized Resume';
                generateButton_1.style.background = 'linear-gradient(to right, #0022ff, #ae00ff)';
                generateButton_1.style.color = 'white';
                generateButton_1.style.marginBottom = '10px';
                generateButton_1.onclick = () => generateCoverLetter_1(
                    job.job_description,
                    document.getElementById('resume-text').value,
                    job.job_title,
                    job.employer_name || "Unknown Company",
                    job.job_apply_link // Include the apply link
                );
                jobBox.appendChild(generateButton_1);






                // Append the remote status
                const jobRemoteStatus = document.createElement('p');
                jobRemoteStatus.innerText = 'Remote: ' + (job.job_is_remote ? 'Yes' : 'No');
                jobBox.appendChild(jobRemoteStatus);

                // Append the job employment type
                const jobEmploymentType = document.createElement('p');
                jobEmploymentType.innerText = 'Employment Type: ' + (job.job_employment_type || 'N/A');
                jobBox.appendChild(jobEmploymentType);

                // Append the job description
                const jobDescription = document.createElement('p');
                jobDescription.innerText = 'Description: ' + (job.job_description || 'N/A');
                jobBox.appendChild(jobDescription);

                // Append the job publisher
                const jobPublisher = document.createElement('p');
                jobPublisher.innerText = 'Publisher: ' + (job.job_publisher || 'N/A');
                jobBox.appendChild(jobPublisher);

                // Append the apply link
                const applyLink = document.createElement('a');
                applyLink.href = job.job_apply_link;
                applyLink.innerText = 'Apply Here';
                applyLink.target = '_blank';
                jobBox.appendChild(applyLink);

                // Append the job ID
                const jobId = document.createElement('p');
                jobId.innerText = 'Job ID: ' + (job.job_id || 'N/A');
                jobBox.appendChild(jobId);



                listingsContainer.appendChild(jobBox);
            });

            // When a jobBox or any of its children are clicked, toggle its active state and adjust overflow
            document.addEventListener('click', function (event) {
                // Deactivate all active job boxes first
                document.querySelectorAll('.job-box.active').forEach(function (box) {
                    box.classList.remove('active');
                    box.style.overflow = 'hidden';
                });

                // Find the closest .job-box to the clicked element
                let closestJobBox = event.target.closest('.job-box');

                if (closestJobBox) {
                    closestJobBox.classList.add('active');
                    closestJobBox.style.overflow = 'auto';
                }
            });
        }


        // Download the generated cover letter as a .txt file
        //  function downloadCoverLetter() {
        //    const coverLetter = document.getElementById('cover-letter-text').value;
        //  const blob = new Blob([coverLetter], { type: 'text/plain' });
        //   const a = document.createElement('a');
        //   a.download = 'cover_letter.txt';
        //   a.href = URL.createObjectURL(blob);
        //   a.click();
        //   }

        // Copy the generated cover letter to the clipboard
        function copyToClipboard() {
            const coverLetterTextarea = document.getElementById('cover-letter-text');
            coverLetterTextarea.select();
            document.execCommand('copy');
            alert('AI Cover letter copied to clipboard!');
        }

        // Function to download the resuME
        function downloadResume_1() {
            const textToSave = document.getElementById('cover-letter-text-1').value;
            const blob = new Blob([textToSave], { type: "text/plain" });
            const anchor = document.createElement("a");
            anchor.download = "resume_1.txt";
            anchor.href = window.URL.createObjectURL(blob);
            anchor.target = "_blank";
            anchor.click();
        }

        // Function to copy the resuME to clipboard
        function copyToClipboard_1() {
            const copyText = document.getElementById('cover-letter-text-1');
            copyText.select();
            document.execCommand("copy");
            alert("Optimized Resume copied to clipboard!");
        }

        // Event listener for file upload
        $("#resume-upload").change(function () {
            var form_data = new FormData();
            var file_data = $("#resume-upload")[0].files[0];
            form_data.append("file", file_data);

            $.ajax({
                type: "POST",
                url: "/upload-search",
                data: form_data,
                contentType: false,
                cache: false,
                processData: false,
                success: function (data) {
                    // Check if data is a string (error message) or an object (JSON response)
                    if (typeof data === 'string') {
                        // Display error message in the console
                        console.error(data);
                        // Show the error message to the user (You can use an alert or other UI element)
                        alert(data);
                    } else {
                        // Data is an object (JSON response) with a 'content' property
                        console.log(data.content);
                        // Set the content in the existing text area (resume)
                        $("#resume-text").val(data.content);

                        // Show the existing text area
                        $("#resume-upload").show();
                    }
                },
                error: function (xhr, textStatus, error) {
                    console.error("Error while uploading the file:", error);
                    alert("An error occurred while uploading the file. Please try again later.");
                }
            });
        });

    </script>
    </div>
    <script>
        $(document).ready(function () {
            $(".job-box").click(function () {
                // Display the entire content in an alert for now
                // You can replace this with a modal or another method of your choice
                alert($(this).text());
            });
        });


    </script>

    <div aria-hidden="true" aria-labelledby="analyzeModalLabel" class="modal fade" id="analyzeModal" role="dialog"
        tabindex="-1">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="analyzeModalLabel">Salary Range:</h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id="analyzeResult"></p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var userId = {{ user_id }};
    </script>
    <script>
        function saveDocument() {
            const textBox = document.getElementById('cover-letter-text');
            const documentContent = textBox.value;
            const documentName = "Cover Letter (Job Search)";
            const documentType = "Cover Letter (Job Search)";
            const jobTitle = textBox.getAttribute('data-job-title');
            const companyName = textBox.getAttribute('data-company-name');
            const applyLink = textBox.getAttribute('data-apply-link');

            fetch("/save_document", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    user_id: userId,
                    document_name: documentName,
                    document_content: documentContent,
                    document_type: documentType,
                    job_title: jobTitle,
                    company_name: companyName,
                    apply_link: applyLink
                })
            })
                .then(response => response.json())
                .then(data => {
                    if (data.message === "Document saved successfully. You may view your Saved Documents on your Dashboard") {
                        alert("Cover Letter saved successfully! You may view and download your Saved Documents from your Dashboard");
                    } else {
                        alert("You must be logged in to access your Dashboard.");
                    }
                });
        }

        function saveResume() {
            const textBox = document.getElementById('cover-letter-text-1');
            const resumeContent = textBox.value;
            const resumeName = "ATS Enhanced Resume (Job Search)";
            const documentType = "ATS Enhanced Resume (Job Search)";
            const jobTitle = textBox.getAttribute('data-job-title');
            const companyName = textBox.getAttribute('data-company-name');
            const applyLink = textBox.getAttribute('data-apply-link');

            fetch("/save_document", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    user_id: userId,
                    document_name: resumeName,
                    document_content: resumeContent,
                    document_type: documentType,
                    job_title: jobTitle,
                    company_name: companyName,
                    apply_link: applyLink
                })
            })
                .then(response => response.json())
                .then(data => {
                    if (data.message === "Document saved successfully. You may view your Saved Documents on your Dashboard") {
                        alert("Resume saved successfully! You may view and download your Saved Documents from your Dashboard");
                    } else {
                        alert("You must be logged in to access your Dashboard.");
                    }
                });
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const accordionLink = document.getElementById("howDoesThisWork");
            const accordionBody = document.getElementById("howItWorksCollapse");

            // Create and configure the "Close" button
            const closeButton = document.createElement("button");
            closeButton.textContent = "Close";
            closeButton.style.display = "block";
            closeButton.style.margin = "10px auto";
            closeButton.addEventListener("click", function () {
                accordionBody.classList.remove("show");
                accordionLink.textContent = "🔮 How does this work?";
            });

            // Append the "Close" button to the accordion body
            accordionBody.querySelector(".accordion-body").appendChild(closeButton);

            // Toggle the accordion text
            accordionLink.addEventListener("click", function () {
                if (accordionBody.classList.contains("show")) {
                    accordionLink.textContent = "🔮 How does this work?";
                } else {
                    accordionLink.textContent = "Close";
                }
            });
        });
    </script>
    </div>
</body>

</html>